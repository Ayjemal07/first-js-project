let globalPokemonList=[];pokemonList=[{name:"Bulbasaur",height:.7,types:["grass","poison"]},{name:"Charizard",height:1.7,types:["fire","flying"]},{name:"Parasect",height:1.4,types:["grass","bug"]}];let modalContainer=document.querySelector("#exampleModal"),pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e?t.push(e):console.log("pokemon is not correct")}function n(){return t}function i(){modalContainer.classList.remove("is-visible")}function a(t){o(t).then(function(){var e;let n,i,a,o,l,s,r,p,d,c;e=t,n=$(".modal-body"),i=$(".modal-title"),$(".modal-header"),i.empty(),n.empty(),a=$("<h1>"+e.name+"</h1>"),(o=$('<img class="modal-img" style="width:50%">')).attr("src",e.imageUrl),l=$("<p>height: "+e.height+"</p>"),s=$("<p>weight: "+e.weight+"</p>"),r=[],e.types.forEach(function(t){console.log(t.type.name),r.push(t.type.name)}),p=$("<p>type: "+r.join(", ")+"</p>"),d=[],e.abilities.forEach(function(t){console.log(t.ability.name),d.push(t.ability.name)}),c=$("<p>abilities: "+d.join(", ")+"</p>"),i.append(a),n.append(o),n.append(l),n.append(s),n.append(p),n.append(c)})}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(t){console.error(t)})}return window.addEventListener("keydown",t=>{"Escape"===t.key&&modalContainer.classList.contains("is-visible")&&i()}),modalContainer.addEventListener("click",t=>{t.target===modalContainer&&i()}),{add:e,getAll:n,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let n={name:t.name,detailsUrl:t.url};e(n),console.log("Added:",n.name)})}).catch(function(t){console.error(t)})},loadDetails:o,addListItem:function t(e){let n="";o(e).then(function(){n=e.imageUrl;let t=document.querySelector(".list-group"),i=document.createElement("li");i.classList.add("list-group-item");let o=document.createElement("button"),l=document.createElement("img");console.log("HOLA"+n),l.setAttribute("src",n),o.innerText=e.name,o.classList.add("button-class"),o.type="button",o.classList.add("btn","btn-primary"),o.setAttribute("data-target","#exampleModal"),o.setAttribute("data-toggle","modal"),o.appendChild(l),i.appendChild(o),t.appendChild(i),o.addEventListener("click",function(){a(e)})})},showDetails:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});